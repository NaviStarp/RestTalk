<app-header></app-header>
<div style="height: 100px;"></div>

<div class="imgcontainer">
  <div class="container">
    <h1>Inicio de Sesión</h1>
    <p>Por favor complete este formulario para iniciar Sesión.</p>
    <hr>
    
    <form [formGroup]="loginForm" (ngSubmit)="login()">
      <label for="username"><b>Nombre de usuario:</b></label>
      <input 
        type="text" 
        placeholder="Nombre de usuario" 
        formControlName="username" 
        id="username" 
        required>
      <div *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.errors?.['required']" class="error-message">
        El nombre de usuario es requerido
      </div>
      
      <label for="password"><b>Contraseña</b></label>
      <input 
        type="password" 
        placeholder="Contraseña" 
        formControlName="password" 
        id="password" 
        required>
      <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['required']" class="error-message">
        La contraseña es requerida
      </div>
      <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors?.['minlength']" class="error-message">
        La contraseña debe tener al menos 6 caracteres
      </div>
      
      <hr>
      <p>Al iniciar sesión, aceptas nuestros <a href="/privacidad">Términos y Privacidad</a>.</p>
      
      <div *ngIf="errorMessage" class="error-container">
        {{ errorMessage }}
      </div>
      
      <button type="submit" [disabled]="isLoading || loginForm.invalid" class="registerbtn">
        <span *ngIf="isLoading" class="spinner"></span>
        <span *ngIf="!isLoading">Iniciar Sesión</span>
      </button>
    </form>
  </div>
</div>